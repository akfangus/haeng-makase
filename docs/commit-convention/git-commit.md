# AI Git Commit Agent 가이드라인

이 문서는 AI 에이전트가 프로젝트의 변경 사항을 커밋할 때 반드시 따라야 할 **행동 수칙**과 **메시지 컨벤션**을 정의합니다.
사용자가 "이 파일 참고해서 커밋해줘"라고 요청하면, AI는 아래 지침에 따라 **변경 사항을 분석하고, 논리적 단위로 분리하여, 순차적으로 여러 번 커밋**해야 합니다.

---

## 🏗️ 1. AI 에이전트 행동 수칙 (Workflow Protocol)

AI는 단순히 모든 변경 사항을 한 번에 커밋(`git add . && git commit`)해서는 안 됩니다. 다음 4단계 프로세스를 따르십시오.

### 단계 1: 변경 사항 분석 (`git status` & `git diff`)

- 현재 변경된 모든 파일의 목록과 구체적인 변경 내용을 확인합니다.
- 서로 관련 없는 작업들이 섞여 있는지 파악합니다.

### 단계 2: 논리적 그룹핑 (Logical Grouping)

- 변경된 파일들을 **"하나의 독립적인 커밋 단위"**로 묶습니다.
- **원칙:** 하나의 커밋은 하나의 명확한 목적만 가져야 합니다. (Atomic Commit)
  - ❌ _기능 A 구현과 버그 B 수정을 한 커밋에 담기_
  - ✅ _기능 A 구현 커밋_ -> _버그 B 수정 커밋_ (분리)
  - ✅ _UI 컴포넌트 추가 커밋_ -> _해당 컴포넌트를 사용하는 페이지 수정 커밋_ (분리 권장)

### 단계 3: 순차적 커밋 실행 (Sequential Execution)

- 그룹핑된 순서대로 하나씩 `git add <files>` -> `git commit`을 수행합니다.
- 의존성이 있는 경우, 의존성이 해결되는 순서로 커밋합니다. (예: 컴포넌트 생성 -> 페이지 적용)

### 단계 4: 검증

- 모든 변경 사항이 누락 없이 적절한 커밋으로 처리되었는지 확인합니다.

---

## 📝 2. 커밋 메시지 컨벤션 (Commit Convention)

커밋 메시지는 **한글**로 작성하며, 다음 형식을 엄격히 따릅니다.

```
type(scope): subject

body (optional)
```

### 2.1. Type (유형)

|     Type     | 설명                                           | 예시                                               |
| :----------: | :--------------------------------------------- | :------------------------------------------------- |
|   **feat**   | 새로운 기능 추가                               | `feat(api): 사용자 로그인 기능 구현`               |
|   **fix**    | 버그 수정                                      | `fix(ui): 모바일에서 버튼 깨짐 현상 수정`          |
|  **style**   | 코드 포맷팅, 세미콜론 누락 등 (로직 변경 없음) | `style(global): eslint 규칙 적용 및 포맷팅`        |
|  **design**  | CSS 등 사용자 UI 디자인/스타일 변경            | `design(mypage): 프로필 이미지 둥근 테두리 적용`   |
| **refactor** | 코드 리펙토링 (결과 변경 없이 구조 개선)       | `refactor(auth): 중복되는 로그인 로직 훅으로 분리` |
|   **docs**   | 문서 수정 (README, 가이드라인 등)              | `docs(readme): 설치 가이드 방법 최신화`            |
|  **chore**   | 빌드 설정, 패키지 매니저 설정, 파일 이동 등    | `chore(package): 쿼리 관련 라이브러리 추가`        |
|   **test**   | 테스트 코드 추가/수정                          | `test(auth): 로그인 실패 케이스 테스트 추가`       |
|  **rename**  | 파일/폴더명 수정 또는 이동                     | `rename(assets): 아이콘 파일 경로 이동`            |
|  **remove**  | 파일 삭제                                      | `remove(unused): 사용하지 않는 테스트 파일 삭제`   |

### 2.2. Scope (범위) - Optional

- 커밋의 영향을 받는 위치나 모듈을 명시합니다. 소문자를 사용합니다.
- 예: `(auth)`, `(home)`, `(api)`, `(utils)`
- 전역적인 변경일 경우 생략 가능합니다.

### 2.3. Subject (제목)

- **한글**로 작성합니다.
- 문장 끝에 마침표(`.`)를 찍지 않습니다.
- **명령문**조로 작성합니다. ("수정하였음" X -> "**수정**" O)
- 50자 이내로 간결하게 요약합니다.

### 2.4. Body (본문) - Optional

- 커밋에 대한 상세 설명이 필요한 경우 작성합니다.
- **"무엇을", "왜"** 변경했는지에 집중합니다.

---

## 💡 3. 상황별 분리 예시 (Examples)

### 상황 A: 새 기능을 만들면서 설정 파일도 수정하고, 문서도 추가한 경우

**❌ (나쁜 예)**
`feat(new-feature): 이미지 업로드 기능 추가 및 패키지 설치` (모두 한 번에 커밋)

**✅ (좋은 예 - 3번 나눠서 커밋)**

1. `chore(package): 이미지 처리 라이브러리 설치` (package.json 변경)
2. `feat(upload): 이미지 업로더 컴포넌트 추가` (컴포넌트 파일)
3. `docs(guide): 이미지 업로드 사용 가이드 추가` (md 파일)

### 상황 B: 버그를 고치다가 코드를 정리(리팩토링)한 경우

**❌ (나쁜 예)**
`fix(utils): 날짜 변환 버그 수정 및 코드 정리`

**✅ (좋은 예 - 2번 나눠서 커밋)**

1. `fix(utils): 날짜 변환 시 일부 타임존 오류 수정` (버그 수정만)
2. `refactor(utils): 날짜 포맷 함수 가독성 개선` (로직 변경 없는 정리)

---

**⚠️ AI 에이전트 주의사항:**
사용자가 "커밋해줘"라고 요청하면, 항상 이 문서를 가장 먼저 읽고 위 **Process**에 따라 작업을 계획하십시오.
